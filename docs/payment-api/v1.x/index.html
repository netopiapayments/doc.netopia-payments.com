<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-payment-api/v1.x" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Version 1.x | NETOPIA Development Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.netopia-payments.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.netopia-payments.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.netopia-payments.com/docs/payment-api/v1.x"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Version 1.x | NETOPIA Development Portal"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.netopia-payments.com/docs/payment-api/v1.x"><link data-rh="true" rel="alternate" href="https://docs.netopia-payments.com/docs/payment-api/v1.x" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.netopia-payments.com/docs/payment-api/v1.x" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NETOPIA Development Portal RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NETOPIA Development Portal Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-064YE3CC39"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-064YE3CC39",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.3e6b4bf6.css">
<script src="/assets/js/runtime~main.d098f0d2.js" defer="defer"></script>
<script src="/assets/js/main.bdbc62e4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NETOPIA Developer Portal" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="NETOPIA Developer Portal" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NETOPIA Developer Portal</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/get-started">Documentation</a><a class="navbar__item navbar__link" href="/blog">News</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/get-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/payment-api">Payment API</a><button aria-label="Collapse sidebar category &#x27;Payment API&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/payment-api/v2.x/introduction">Version 2.x</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/payment-api/v1.x">Version 1.x</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/payment-plugins">Payment Plugins</a><button aria-label="Expand sidebar category &#x27;Payment Plugins&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/payment-sdks">Payment SDKs</a><button aria-label="Expand sidebar category &#x27;Payment SDKs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/payment-api"><span itemprop="name">Payment API</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Version 1.x</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>NETOPIA Payments API - Version 1.x</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>[This API Version Will Be Phased Out]</div><div class="admonitionContent_BuS1"><p><a href="/docs/payment-api/v2.x/introduction">Version 2.x</a> is the latest release of the NETOPIA Payments API and is recommended for both new and existing customers. This version uses JSON endpoints and is secured with API tokens. Version 1.x will be fully phased in the future (we will send a forma notification in due time). This documentation is provided to assist existing customers until they complete their migration.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>The NETOPIA Payments API provides a flexible and secure way to integrate payments into your applications. This guide covers the API structure, authentication, security measures, and request/response formats.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="feedback">Feedback<a href="#feedback" class="hash-link" aria-label="Direct link to Feedback" title="Direct link to Feedback">​</a></h3>
<p>Help us improve this guide by sending feedback to: <a href="mailto:implementare@netopia.ro" target="_blank" rel="noopener noreferrer">implementare@netopia.ro</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-server-model">Client-Server Model<a href="#client-server-model" class="hash-link" aria-label="Direct link to Client-Server Model" title="Direct link to Client-Server Model">​</a></h3>
<p>NETOPIA API follows a <strong>client-server</strong> model:</p>
<ul>
<li>The client (your website or application) sends a request using <strong>POST</strong> to one of NETOPIA&#x27;s service endpoints.</li>
<li>The user is redirected to NETOPIA’s payment page.</li>
<li>NETOPIA processes the payment and notifies your server.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-measures">Security Measures<a href="#security-measures" class="hash-link" aria-label="Direct link to Security Measures" title="Direct link to Security Measures">​</a></h2>
<p>To ensure secure transactions, the API implements:</p>
<ol>
<li><strong>Request authentication</strong> via API Signature (Signature field).</li>
<li><strong>Data encryption</strong> using RSA keys.</li>
<li><strong>Secure transport</strong> via SSL/TLS (recommended for responses).</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="payment-request-workflow">Payment Request Workflow<a href="#payment-request-workflow" class="hash-link" aria-label="Direct link to Payment Request Workflow" title="Direct link to Payment Request Workflow">​</a></h2>
<p><strong>Process Overview:</strong></p>
<ol>
<li>Redirect the user to NETOPIA with a payment request.</li>
<li>NETOPIA processes the transaction and notifies your server.</li>
<li>Your system handles the IPN (Instant Payment Notification).</li>
</ol>
<p><strong>Key Parameters:</strong></p>
<ul>
<li><code>env_key</code> – Public key for encryption.</li>
<li><code>data</code> – XML-structured payment details, signed with NETOPIA’s public certificate.</li>
<li><code>cipher</code> – Encryption algorithm.</li>
<li><code>iv</code> – Initialization vector for encryption security.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-endpoints">Service Endpoints<a href="#service-endpoints" class="hash-link" aria-label="Direct link to Service Endpoints" title="Direct link to Service Endpoints">​</a></h2>
<table><thead><tr><th>Payment Mode</th><th>Standard Payment</th><th>One-Click Payment</th></tr></thead><tbody><tr><td><strong>Live</strong></td><td><a href="https://secure.mobilpay.ro" target="_blank" rel="noopener noreferrer">https://secure.mobilpay.ro</a></td><td><a href="https://secure.mobilpay.ro/card4" target="_blank" rel="noopener noreferrer">https://secure.mobilpay.ro/card4</a></td></tr><tr><td><strong>Test</strong></td><td><a href="https://sandboxsecure.mobilpay.ro" target="_blank" rel="noopener noreferrer">https://sandboxsecure.mobilpay.ro</a></td><td><a href="http://sandboxsecure.mobilpay.ro/card4" target="_blank" rel="noopener noreferrer">https://sandboxsecure.mobilpay.ro/card4</a></td></tr></tbody></table>
<p>For language-specific interfaces, append the language code (e.g., <code>/en</code> for English).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="payment-request-structure">Payment Request Structure<a href="#payment-request-structure" class="hash-link" aria-label="Direct link to Payment Request Structure" title="Direct link to Payment Request Structure">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xml-format">XML Format<a href="#xml-format" class="hash-link" aria-label="Direct link to XML Format" title="Direct link to XML Format">​</a></h3>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">order</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">card</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ORDER_ID</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">timestamp</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">YYYYMMDDHHMMSS</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">signature</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">XXXX-XXXX-XXXX-XXXX</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">signature</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">invoice</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">currency</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">RON</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">amount</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">XX.YY</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">details</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Payment Description</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">details</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">contact_info</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">billing</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">company|person</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">first_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">John</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">first_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">last_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Doe</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">last_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">john.doe@example.com</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mobile_phone</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">+40712345678</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mobile_phone</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">address</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">123 Main St, Bucharest</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">address</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">billing</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">contact_info</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">invoice</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ipn_cipher</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">aes-256-cbc</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ipn_cipher</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">params</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">custom_param</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">value123</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">param</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">params</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">confirm</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">https://yourdomain.com/confirm</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">confirm</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">return</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">https://yourdomain.com/return</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">return</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">url</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">order</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-parameters">Request Parameters<a href="#request-parameters" class="hash-link" aria-label="Direct link to Request Parameters" title="Direct link to Request Parameters">​</a></h3>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Format / Constraints</th><th>Notes</th></tr></thead><tbody><tr><td><strong><code>order type</code></strong></td><td>Specifies the type of transaction to be initiated.</td><td>Accepted value: <code>card</code></td><td>-</td></tr><tr><td><strong><code>order id</code></strong></td><td>Internal identifier for your order.</td><td>Max 64 characters, unique per seller account.</td><td>Refresh on each request unless duplicate is intended.</td></tr><tr><td><strong><code>timestamp</code></strong></td><td>The timestamp from your server.</td><td>Format: <code>YYYYMMDDhhmmss</code></td><td>Example: <code>20240425020304</code> (April 25, 2024, 02:03:04)</td></tr><tr><td><strong><code>signature</code></strong></td><td>The unique key for your seller account.</td><td>Format: <code>XXXX-XXXX-XXXX-XXXX</code></td><td>Obtainable from NETOPIA&#x27;s merchant console.</td></tr><tr><td><strong><code>invoice</code></strong></td><td>Contains the payment details to be initiated.</td><td>-</td><td>-</td></tr><tr><td><strong><code>currency</code></strong></td><td>Currency for processing the payment.</td><td>ISO Code (e.g., <code>RON</code>)</td><td>Other currencies (EUR, USD, GBP) may be used if authorized; otherwise, converted to <code>RON</code> with dual display.</td></tr><tr><td><strong><code>amount</code></strong></td><td>The amount to be processed.</td><td>Max: <code>99999</code> units</td><td>Card checks may use an amount of <code>0</code>.</td></tr><tr><td><strong><code>installments</code></strong> <em>(optional)</em></td><td>Number of installments available.</td><td>Type: Integer</td><td>Must be preconfigured by a NETOPIA representative.</td></tr><tr><td><strong><code>selected_installments</code></strong> <em>(optional)</em></td><td>The number of installments selected by the client.</td><td>Type: Integer</td><td>Must be within the <code>installments</code> range.</td></tr><tr><td><strong><code>customer_id</code></strong></td><td>Internal identifier of your customer.</td><td>Unique ID</td><td>Useful for one-click payments.</td></tr><tr><td><strong><code>token_id</code></strong></td><td>Token received from an initial payment request.</td><td>-</td><td>Identifies the customer and payment instrument.</td></tr><tr><td><strong><code>pan_masked</code></strong></td><td>First 6 and last 4 digits of the associated credit card.</td><td>Masked Card Number</td><td>Displays a user-friendly version of the card.</td></tr><tr><td><strong><code>details</code></strong></td><td>Payment details as displayed on the NETOPIA secure payment page.</td><td>Alphanumeric</td><td>-</td></tr><tr><td><strong><code>cipher</code></strong></td><td>Algorithm/method for data encryption or decryption.</td><td>Options: <code>rc4</code>, <code>aes-256-cbc</code></td><td>-</td></tr><tr><td><strong><code>contact_info</code></strong></td><td>Payer information for a smoother payment experience.</td><td>-</td><td>Eliminates the need for a secondary step to collect customer details.</td></tr><tr><td><strong><code>billing_type</code></strong></td><td>Customer type.</td><td>Values: <code>person</code>, <code>company</code></td><td>-</td></tr><tr><td><strong><code>first_name</code></strong></td><td>Customer&#x27;s first name.</td><td>String</td><td>-</td></tr><tr><td><strong><code>last_name</code></strong></td><td>Customer&#x27;s last name.</td><td>String</td><td>-</td></tr><tr><td><strong><code>email</code></strong></td><td>Customer&#x27;s email address.</td><td>Valid email format</td><td>-</td></tr><tr><td><strong><code>mobile_phone</code></strong></td><td>Customer&#x27;s phone number.</td><td>Numeric</td><td>-</td></tr><tr><td><strong><code>address</code></strong></td><td>Customer&#x27;s address.</td><td>String</td><td>-</td></tr><tr><td><strong><code>params</code></strong></td><td>An array of custom parameters.</td><td>-</td><td>Provides additional details about the payer and/or</td></tr><tr><td><strong><code>url</code></strong></td><td>The URL where NETOPIA sends the payment result.</td><td>Valid URL</td><td>-</td></tr><tr><td><strong><code>confirm</code></strong></td><td>Your web application&#x27;s URL called on payment status changes or manual IPNs.</td><td>Must be publicly accessible</td><td>Must support HTTP (port 80) or HTTPS (port 443). First call is synchronous; subsequent calls are asynchronous.</td></tr><tr><td><strong><code>return</code></strong></td><td>URL to which the client is redirected after payment completion.</td><td>Valid URL</td><td>Not to be confused with success or cancel URLs. Content is dynamic based on data sent to the <code>confirm</code> URL.</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="payment-response-structure">Payment Response Structure<a href="#payment-response-structure" class="hash-link" aria-label="Direct link to Payment Response Structure" title="Direct link to Payment Response Structure">​</a></h2>
<p>Upon every change in the status of a payment, NETOPIA will make a <code>POST</code> request to the URL set as the confirmation endpoint, with the <code>Content-Type: application/x-www-form-urlencoded</code>. The request will contain the following parameters: <code>env_key</code>, <code>data</code>, <code>cipher</code>, and optionally, <code>iv</code>. The response XML will be encrypted using an X509 public certificate, and you must decrypt it using the private key provided by NETOPIA (or your own).</p>
<p>You will receive all the parameters you initially sent, unchanged, along with an additional element, called <strong>mobilpay</strong>, in the response XML.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xml-format-1">XML Format<a href="#xml-format-1" class="hash-link" aria-label="Direct link to XML Format" title="Direct link to XML Format">​</a></h3>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">order</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">card</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ORDER_ID</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">timestamp</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">YYYYMMDDHHMMSS</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mobilpay</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">timestamp</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">YYYYMMDDHHMMSS</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">crc</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">XXXXX</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">action</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">action_type</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">action</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">customer</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">person|company</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">first_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">John</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">first_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">last_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Doe</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">last_name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">address</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">123 Main St, Bucharest</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">address</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">john.doe@example.com</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mobile_phone</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">+40712345678</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mobile_phone</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">customer</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">purchase</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">mobilPay_purchase_no</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">purchase</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">original_amount</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">XX.XX</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">original_amount</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">processed_amount</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">NN.NN</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">processed_amount</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">pan_masked</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">XXXXXX****YYYY</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">pan_masked</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">payment_instrument_id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ZZZZZZZ</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">payment_instrument_id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">token_id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">token_identifier</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">token_id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">token_expiration_date</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">YYYY-MM-DD HH:MM:SS</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">token_expiration_date</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">error</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">code</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">N</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">error_message</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">error</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mobilpay</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">order</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="response-parameters">Response Parameters<a href="#response-parameters" class="hash-link" aria-label="Direct link to Response Parameters" title="Direct link to Response Parameters">​</a></h3>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Format / Constraints</th><th>Notes</th></tr></thead><tbody><tr><td><strong><code>mobilpay</code></strong></td><td>NETOPIA&#x27;s response, appended to your unchanged request.</td><td>-</td><td>-</td></tr><tr><td><strong><code>timestamp</code></strong></td><td>NETOPIA&#x27;s internal timestamp.</td><td>Format: <code>YYYYMMDDHHMMSS</code></td><td>-</td></tr><tr><td><strong><code>crc</code></strong></td><td>NETOPIA internal identifier check.</td><td>Alphanumeric</td><td>-</td></tr><tr><td><strong><code>action</code></strong></td><td>The action attempted by NETOPIA.</td><td>Values: <code>paid_pending</code>, <code>confirmed_pending</code>, <code>paid</code>, <code>confirmed</code>, <code>credit</code>, <code>canceled</code></td><td>This is not the transaction status, as all actions can succeed or fail.</td></tr><tr><td><strong><code>customer type</code></strong></td><td>The type of paying customer.</td><td>Values: <code>person</code>, <code>company</code></td><td>-</td></tr><tr><td><strong><code>first_name</code></strong></td><td>The customer&#x27;s first name.</td><td>String</td><td>-</td></tr><tr><td><strong><code>last_name</code></strong></td><td>The customer&#x27;s last name.</td><td>String</td><td>-</td></tr><tr><td><strong><code>address</code></strong></td><td>The customer&#x27;s address.</td><td>String</td><td>-</td></tr><tr><td><strong><code>email</code></strong></td><td>The customer&#x27;s email address.</td><td>Valid email format</td><td>-</td></tr><tr><td><strong><code>mobile_phone</code></strong></td><td>The customer&#x27;s phone number.</td><td>Numeric</td><td>-</td></tr><tr><td><strong><code>purchase</code></strong></td><td>NETOPIA internal identifier.</td><td>Unique ID</td><td>Unique for the entire NETOPIA platform.</td></tr><tr><td><strong><code>original_amount</code></strong></td><td>The original amount processed.</td><td>Decimal</td><td>-</td></tr><tr><td><strong><code>processed_amount</code></strong></td><td>The processed amount at the moment of response.</td><td>Decimal</td><td>Can be lower than the original amount in case of partial capture or refund.</td></tr><tr><td><strong><code>pan_masked</code></strong></td><td>First 6 and last 4 digits of the card used.</td><td>Masked Card Number</td><td>Store and use for customer-friendly payment instrument identification.</td></tr><tr><td><strong><code>payment_instrument_id</code></strong></td><td>Internal NETOPIA identifier of the payment instrument.</td><td>Alphanumeric</td><td>Helps check uniqueness.</td></tr><tr><td><strong><code>token_id</code></strong></td><td>Token associated with the payment instrument.</td><td>Alphanumeric</td><td>Used for recurring payments or one-click payments.</td></tr><tr><td><strong><code>token_expiration_date</code></strong></td><td>Expiration date of the token.</td><td>Format: <code>YYYY-MM-DD HH:MM:SS</code></td><td>Usually the expiration date of the card.</td></tr><tr><td><strong><code>error code</code></strong></td><td>Indicates whether the action was successful.</td><td>0 (Success) or other numeric values</td><td>A value of <code>0</code> means success, any other value indicates failure.</td></tr><tr><td><strong><code>error message</code></strong></td><td>Descriptive error message.</td><td>String</td><td>Can be displayed to the user for better understanding.</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="merchants-response">Merchant&#x27;s Response<a href="#merchants-response" class="hash-link" aria-label="Direct link to Merchant&#x27;s Response" title="Direct link to Merchant&#x27;s Response">​</a></h3>
<p>For each call to your confirmation URL, you must send a response in XML format back to NETOPIA, indicating whether you have successfully recorded the response. This response is crucial for NETOPIA to determine whether to retry sending the IPN.</p>
<p>If you encounter an error, you should specify an error code and message. You can check your response in the <a href="https://admin.netopia-payments.com/" target="_blank" rel="noopener noreferrer">NETOPIA Platform</a> under <code>Orders &gt; Card</code>, selecting <code>Any</code> status and identifying the transaction.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="xml-response-format">XML Response Format<a href="#xml-response-format" class="hash-link" aria-label="Direct link to XML Response Format" title="Direct link to XML Response Format">​</a></h4>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">crc</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">error_type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1|2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">error_code</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">numeric</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">message</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">crc</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="response-attributes">Response Attributes<a href="#response-attributes" class="hash-link" aria-label="Direct link to Response Attributes" title="Direct link to Response Attributes">​</a></h3>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Format / Constraints</th><th>Notes</th></tr></thead><tbody><tr><td><strong><code>error_type</code></strong></td><td>Determines if NETOPIA will retry sending the IPN.</td><td><code>1</code> (Temporary Error), <code>2</code> (Permanent Error)</td><td>Set to <code>1</code> for temporary issues, <code>2</code> for permanent failures.</td></tr><tr><td><strong><code>error_code</code></strong></td><td>Your internal error code.</td><td>Numeric</td><td>Helps diagnose issues on your system.</td></tr><tr><td><strong><code>message</code></strong></td><td>Your error message.</td><td>String</td><td>If no error, return the received <code>crc</code> value or an appropriate success message.</td></tr></tbody></table>
<p>This structured response ensures smooth communication with NETOPIA and prevents unnecessary retries of failed IPNs.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-codes">Error Codes<a href="#error-codes" class="hash-link" aria-label="Direct link to Error Codes" title="Direct link to Error Codes">​</a></h3>
<table><thead><tr><th>Code</th><th>Meaning</th></tr></thead><tbody><tr><td><code>0</code></td><td>Approved</td></tr><tr><td><code>16</code></td><td>Stolen card</td></tr><tr><td><code>17</code></td><td>Incorrect card number</td></tr><tr><td><code>18</code></td><td>Closed card</td></tr><tr><td><code>19</code></td><td>Expired card</td></tr><tr><td><code>20</code></td><td>Insufficient funds</td></tr><tr><td><code>21</code></td><td>CVV2 incorrect</td></tr><tr><td><code>22</code></td><td>Issuer unavailable</td></tr><tr><td><code>32</code></td><td>Incorrect amount</td></tr><tr><td><code>33</code></td><td>Incorrect currency</td></tr><tr><td><code>34</code></td><td>Transaction not permitted</td></tr><tr><td><code>35</code></td><td>Transaction declined</td></tr><tr><td><code>36</code></td><td>Rejected by antifraud</td></tr><tr><td><code>37</code></td><td>Declined (legal restrictions)</td></tr><tr><td><code>38</code></td><td>Requires 3D Authentication</td></tr><tr><td><code>48</code></td><td>Invalid request</td></tr><tr><td><code>49</code></td><td>Duplicate PREAUTH</td></tr><tr><td><code>50</code></td><td>Duplicate AUTH</td></tr><tr><td><code>51</code></td><td>Can only CANCEL preauth</td></tr><tr><td><code>52</code></td><td>Can only CONFIRM preauth</td></tr><tr><td><code>53</code></td><td>Can only CREDIT confirmed order</td></tr><tr><td><code>54</code></td><td>Credit amount exceeds auth amount</td></tr><tr><td><code>55</code></td><td>Capture amount exceeds preauth</td></tr><tr><td><code>56</code></td><td>Duplicate request</td></tr><tr><td><code>99</code></td><td>Generic error</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/payment-api/v2.x/verify-auth/verify-payment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Verify a Payment</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/payment-plugins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Payment Plugins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#feedback" class="table-of-contents__link toc-highlight">Feedback</a></li></ul></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#client-server-model" class="table-of-contents__link toc-highlight">Client-Server Model</a></li></ul></li><li><a href="#security-measures" class="table-of-contents__link toc-highlight">Security Measures</a></li><li><a href="#payment-request-workflow" class="table-of-contents__link toc-highlight">Payment Request Workflow</a></li><li><a href="#service-endpoints" class="table-of-contents__link toc-highlight">Service Endpoints</a></li><li><a href="#payment-request-structure" class="table-of-contents__link toc-highlight">Payment Request Structure</a><ul><li><a href="#xml-format" class="table-of-contents__link toc-highlight">XML Format</a></li><li><a href="#request-parameters" class="table-of-contents__link toc-highlight">Request Parameters</a></li></ul></li><li><a href="#payment-response-structure" class="table-of-contents__link toc-highlight">Payment Response Structure</a><ul><li><a href="#xml-format-1" class="table-of-contents__link toc-highlight">XML Format</a></li><li><a href="#response-parameters" class="table-of-contents__link toc-highlight">Response Parameters</a></li><li><a href="#merchants-response" class="table-of-contents__link toc-highlight">Merchant&#39;s Response</a></li><li><a href="#response-attributes" class="table-of-contents__link toc-highlight">Response Attributes</a></li><li><a href="#error-codes" class="table-of-contents__link toc-highlight">Error Codes</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">NETOPIA services</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://netopia-payments.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">NETOPIA Payments</a></li><li class="footer__item"><a href="https://web2sms.ro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web2sms</a></li><li class="footer__item"><a href="https://netopia-payments.com/servicii/mobilpay-wallet-plata-cu-mobilul/" target="_blank" rel="noopener noreferrer" class="footer__link-item">mobilPay Wallet</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.facebook.com/NETOPIAPayments/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@netopiagroup" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/netopia-system/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NETOPIA Payments.</div></div></div></footer></div>
</body>
</html>
