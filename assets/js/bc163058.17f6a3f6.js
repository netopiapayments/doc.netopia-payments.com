"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[6161],{6469:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"payment-sdks/nodejs","title":"Node.js SDK","description":"Overview","source":"@site/docs/payment-sdks/nodejs.md","sourceDirName":"payment-sdks","slug":"/payment-sdks/nodejs","permalink":"/docs/payment-sdks/nodejs","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Node.js SDK"},"sidebar":"docsSidebar","previous":{"title":"PHP SDK","permalink":"/docs/payment-sdks/php"},"next":{"title":"Go SDK","permalink":"/docs/payment-sdks/go"}}');var i=t(4848),r=t(8453);const o={sidebar_position:2,title:"Node.js SDK"},a=void 0,l={},d=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:3},{value:"Example of implementation",id:"example-of-implementation",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Payment request structure",id:"payment-request-structure",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The NETOPIA Payments Node.js SDK provides seamless integration with the Netopia Payments API v2. It allows developers to handle payments, IPN verification, and status retrieval efficiently within their Node.js applications."}),"\n",(0,i.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start a payment with customer details, products, and billing/shipping data."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Retrieve the status of an order."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Verify 3D Secure authentications."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Validate IPNs (Instant Payment Notifications) for order updates."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Compatible with both Sandbox and Live environments."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example-of-implementation",children:"Example of implementation"}),"\n",(0,i.jsxs)(n.p,{children:["You can check out an example of implementation for online payment with credit card here: ",(0,i.jsx)(n.a,{href:"https://github.com/mobilpay/Node.js",children:"https://github.com/mobilpay/Node.js"})]}),"\n",(0,i.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Live: ",(0,i.jsx)(n.a,{href:"https://secure.mobilpay.ro",children:"https://secure.mobilpay.ro"})]}),"\n",(0,i.jsxs)(n.li,{children:["Sandbox: ",(0,i.jsx)(n.a,{href:"https://sandboxsecure.mobilpay.ro",children:"https://sandboxsecure.mobilpay.ro"})," (only HTTP POST requests accepted)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"payment-request-structure",children:"Payment request structure"}),"\n",(0,i.jsxs)(n.p,{children:["In order to send the payment request to NETOPIA Payments , you need to encrypt the payment data on ",(0,i.jsx)(n.strong,{children:"POST"})," method and encapsulate the information using the following structure:"]}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"View structure"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const data = {\n  order: {\n    $: {\n      id: orderId,\n      timestamp: date.getTime(),\n      type: "card",\n    },\n    signature: "<your_netopia_seller_account_signature>",\n    url: {\n      return: "<your_return_URL>",\n      confirm: "<your_confirm_URL>",\n    },\n    invoice: {\n      $: {\n        currency: currency,\n        amount: amount,\n      },\n      details: "test plata",\n      contact_info: {\n        billing: {\n          $: {\n            type: "person",\n          },\n          first_name: "Test",\n          last_name: "Test",\n          address: "strada",\n          email: "test@mobilpay.ro",\n          mobile_phone: "mobilePhone",\n        },\n        shipping: {\n          $: {\n            type: "person",\n          },\n          first_name: "Test",\n          last_name: "Test",\n          address: "strada",\n          email: "test@mobilpay.ro",\n          mobile_phone: "mobilePhone",\n        },\n      },\n    },\n    ipn_cipher: "aes-256-cbc",\n  },\n}\n'})})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Requiered fields"}),": All the fields are requiered, except ",(0,i.jsx)(n.code,{children:"shipping"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Confirm URL"}),": The confirm URL will be used for IPN (Instant Payment Notification) - i.e. to send information about the transaction's status."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Redirect URL"}),": The redirect URL will be used to redirect the user / customer back to the merchant's website from the Netopia Payments page, after the payment is done."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);