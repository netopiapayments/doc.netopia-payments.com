"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[7236],{4470:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var s=t(4848),r=t(8453);const i={sidebar_position:1,title:"Version 1.x"},o=void 0,a={id:"payment-api/v1.x",title:"Version 1.x",description:"Version 2.x is the latest release of the NETOPIA Payments API and is recommended for both new and existing customers. This version uses JSON endpoints and is secured with API tokens. Version 1.x will be phased out and fully replaced by Version 2.x by the end of 2025. This documentation is provided to assist existing customers until they complete their migration to NETOPIA Payments API version 2.x.",source:"@site/docs/payment-api/v1.x.md",sourceDirName:"payment-api",slug:"/payment-api/v1.x",permalink:"/docs/payment-api/v1.x",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Version 1.x"},sidebar:"docsSidebar",previous:{title:"Sample Response",permalink:"/docs/payment-api/v2.x/verify-auth/sample-response"},next:{title:"Wordpress Plugin",permalink:"/docs/payment-plugins/wordpress"}},c={},d=[{value:"<strong><em>Payment Request Structure</em></strong>",id:"payment-request-structure",level:2}];function h(e){const n={a:"a",admonition:"admonition",em:"em",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{title:"This api version will be phased out",type:"warning",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/docs/payment-api/v2.x/intro",children:"Version 2.x"})," is the latest release of the NETOPIA Payments API and is recommended for both new and existing customers. This version uses JSON endpoints and is secured with API tokens. Version 1.x will be phased out and fully replaced by Version 2.x by the end of 2025. This documentation is provided to assist existing customers until they complete their migration to NETOPIA Payments API version 2.x."]})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"About This Guide"})}),"\n",(0,s.jsx)(n.p,{children:"The API Developer Reference describes the NETOPIA API for generating NETOPIA purchases and understanding the NETOPIA API response"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Documentation Feedback"})}),"\n",(0,s.jsxs)(n.p,{children:["Help us improve this guide by sending feedback to: ",(0,s.jsx)(n.a,{href:"mailto:implementare@netopia.ro",children:"implementare@netopia.ro"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"NETOPIA API Basics"})}),"\n",(0,s.jsx)(n.p,{children:"NETOPIA offers a set of application programming interfaces (APIs) that give you the means to incorporate NETOPIA functionality into your website applications and mobile apps."}),"\n",(0,s.jsx)(n.p,{children:"This document describes how to make calls to NETOPIA API and how to interpret"}),"\n",(0,s.jsx)(n.p,{children:"the instant payment notification (IPN) from Netopia."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"NETOPIA API Client-Server Architecture"})}),"\n",(0,s.jsx)(n.p,{children:"The NETOPIA API uses a client-server model in which your website is a client of the NETOPIA server."}),"\n",(0,s.jsx)(n.p,{children:"A page on your website initiates an action on a NETOPIA API server by sending a request to the server. This request will always be sent using the method POST to one of the payment URL (service endpoints) specified. The user needs to be redirected to NETOPIA\u2019s payment page through a form on the merchant side. The NETOPIA server processes the credit card information presented by the cardholder and responds with an IPN to a callback URL previously specified in the request."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Security"})}),"\n",(0,s.jsx)(n.p,{children:"The NETOPIA API service is protected to ensure that only authorized NETOPIA merchants use it. There are three levels of security:"}),"\n",(0,s.jsx)(n.p,{children:"1. Request authentication using an API Signature included in the request (Signature field)"}),"\n",(0,s.jsx)(n.p,{children:"2. The data exchanged between the client \u2192 NETOPIA server and back is encrypted using RSA keys"}),"\n",(0,s.jsx)(n.p,{children:"3. Secure Sockets Layer (SSL) data transport for the request, optional, if available"}),"\n",(0,s.jsx)(n.p,{children:"on the merchant side, for the response."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Payment Request/Response Flow"}),"\n--insert image schematic here--"]}),"\n",(0,s.jsx)(n.p,{children:"You will redirect the client to NETOPIA together with a payment request. This request will have two mandatory parameters and other two optional parameters:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"env_key"})," \u2013 this is the envelope associated with the public key generated upon"]}),"\n",(0,s.jsx)(n.p,{children:"payment encryption"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"data"})," \u2013 this is the XML structure presented below, signed with the public certificate"]}),"\n",(0,s.jsx)(n.p,{children:"NETOPIA has provided. The certificate is available upon seller account creation in Points of sale - See the list of points of sale - Technical settings."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"cipher"})," \u2013 is an algorithm or cipher used to encrypt or decrypt data"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"iv"})," \u2013 initialization vector, used to ensure that same value blocks will not turn into the same ciphertext blocks when encrypted with the same algorithm and key"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Service Endpoints"})}),"\n",(0,s.jsx)(n.p,{children:"You should always start the payment by using POST method for redirecting the client to one of these endpoints:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["standard payment, live mode \u2013 ",(0,s.jsx)(n.a,{href:"https://secure.mobilpay.ro",children:"https://secure.mobilpay.ro"})]}),"\n",(0,s.jsxs)(n.li,{children:["one click payments, live mode \u2013 ",(0,s.jsx)(n.a,{href:"https://secure.mobilpay.ro/card4",children:"https://secure.mobilpay.ro/card4"})]}),"\n",(0,s.jsxs)(n.li,{children:["standard payment, test mode \u2013 ",(0,s.jsx)(n.a,{href:"https://sandboxsecure.mobilpay.ro",children:"https://sandboxsecure.mobilpay.ro"})]}),"\n",(0,s.jsxs)(n.li,{children:["one click payments, test mode \u2013 ",(0,s.jsx)(n.a,{href:"http://sandboxsecure.mobilpay.ro/card4",children:"https://sandboxsecure.mobilpay.ro/card4"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to display the payment interface in a different language, you should append the language identifier to the specific endpoint, i.e. ",(0,s.jsx)(n.a,{href:"https://secure.mobilpay.ro/en",children:"https://secure.mobilpay.ro/en"})," for English."]}),"\n",(0,s.jsx)(n.h2,{id:"payment-request-structure",children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.em,{children:"Payment Request Structure"})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"The following annotated description of the XML request structure shows the elements required by the NETOPIA API."})}),"\n",(0,s.jsx)(n.p,{children:'<?xml version="1.0" encoding="utf-8"?>'}),"\n",(0,s.jsx)(n.p,{children:'<order type="card" id="string64" timestamp="YYYYmmddHHiiss">'}),"\n",(0,s.jsx)(n.p,{children:"<signature>XXXX-XXXX-XXXX-XXXX-XXXX</signature>"}),"\n",(0,s.jsx)(n.p,{children:'<invoice currency="RON" amount="XX.YY" installments=\u201dR1,R2\u201d selected_installments=\u201dR2\u201d customer_id=\u201dinternal_id\u201d token_id=\u201dtoken_identifier\u201d>'}),"\n",(0,s.jsx)(n.p,{children:"<details>Payment Details</details>"}),"\n",(0,s.jsx)(n.p,{children:"<contact_info>"}),"\n",(0,s.jsx)(n.p,{children:'<billing type="company|person">'}),"\n",(0,s.jsx)(n.p,{children:"<first_name>first_name</first_name>"}),"\n",(0,s.jsx)(n.p,{children:"<last_name>last_name</last_name>"}),"\n",(0,s.jsx)(n.p,{children:"<email>email_address</email>"}),"\n",(0,s.jsx)(n.p,{children:"<address>address</address>"}),"\n",(0,s.jsx)(n.p,{children:"<mobile_phone>mobile_phone</mobile_phone>"}),"\n",(0,s.jsx)(n.p,{children:"</billing>"}),"\n",(0,s.jsx)(n.p,{children:"</contact_info>"}),"\n",(0,s.jsx)(n.p,{children:"</invoice>"}),"\n",(0,s.jsx)(n.p,{children:"<ipn_cipher>aes-256-cbc</ipn_cipher>"}),"\n",(0,s.jsx)(n.p,{children:"<params>"}),"\n",(0,s.jsx)(n.p,{children:"<param>"}),"\n",(0,s.jsx)(n.p,{children:"<name>param1Name</name>"}),"\n",(0,s.jsx)(n.p,{children:"<value>param1Value</value>"}),"\n",(0,s.jsx)(n.p,{children:"</param>"}),"\n",(0,s.jsx)(n.p,{children:"</params>"}),"\n",(0,s.jsx)(n.p,{children:"<url>"}),"\n",(0,s.jsx)(n.p,{children:"<confirm>http://www.your_website.com/confirm</confirm>"}),"\n",(0,s.jsx)(n.p,{children:"<return>http://www.your_website.com/return</return>"}),"\n",(0,s.jsx)(n.p,{children:"</url>"}),"\n",(0,s.jsx)(n.p,{children:"</order>"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Request Parameters"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"order type"})," \u2013 states the type of transaction that is to be initiated. Must be card;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"order id"})," \u2013 this is an internal identifier of your order. It should not have more than 64 characters (string) and should be unique for a seller account. Unless you specifically want to make a payment request for the same order, this attribute should be refreshed on each payment request. You will use this identifier when you receive the payment response;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"timestamp"}),"\u2013this is the timestamp of your server formatted as YYYYMMDDhhmmss"]}),"\n",(0,s.jsx)(n.p,{children:"(i.e. 20240425020304 is 2024, April 25th, 02:03:04)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"signature"})," \u2013 unique key assigned to your seller account for the payment process. Can be obtained from NETOPIA's merchant console and has to look like XXXX-XXXX-XXXX-XXXX;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"invoice"})," \u2013 the details of the payment about to be initiated;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"currency"})," \u2013 the currency in which the payment will be processed. Should be the ISO code of the currency (i.e. RON for Romanian Leu). You can also set a different currency (EUR, USD, GBP), but if NETOPIA's legal department hasn't cleared you for that currency, the amount will be converted to RON and displayed in dual currency, with RON first;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"amount"})," \u2013 the amount to be processed. Card checks can be made with the amount of 0 and a maximum of 99999 units are allowed."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"installments"})," \u2013 (optional) this is the installments number available for the payment."]}),"\n",(0,s.jsx)(n.p,{children:"This is an integer and needs to be previously set in the platform by a NETOPIA representative;"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"selected_installments"})," \u2013 (optional) this is the number of installments that the client has selected on your web application. It should be an integer within the values specified in the installments attribute;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"customer_id"})," \u2013 this is the internal identifier of your customer. It is recommended for one click payments, and should be unique."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"token_id"})," \u2013 this is the token you have previously received from NETOPIA upon a first payment request. It helps identify the customer and the payment instrument;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"pan_masked"})," \u2013 the first 6 and last 4 digits of the credit card associated with the token_id above. You may use this to present the client with the card he is about to use, in a friendly manner;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"details"})," \u2013 the details of the payment as they will appear in the NETOPIA secure payment page; it is highly recommended that you only use alpha-numeric characters for this field;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"cipher"})," \u2013 is an algorithm or method used to encrypt or decrypt data (you can use rc4 or aes-256-cbc);"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"contact_info"})," \u2013 information regarding the payer. The data here is optional, but if you provide it in the request, the customer will be presented with a more fluent payment experience, where the second step (asking for customer data) will no longer be present;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"billing type"})," \u2013 the type of customer. It can be either person or company;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"first_name"})," \u2013 the first name of the customer;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"last_name"})," \u2013 the last name of the customer;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"email"})," \u2013 email address of the customer;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"mobile_phone"})," \u2013 phone number of the customer;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"address"})," \u2013 address of the customer;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"params"})," \u2013 you may send an array of custom parameters, with as much data as needed in order to have a large enough number of details regarding the payer and/or the product being paid for;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"url"})," \u2013 this element specifies where NETOPIA will communicate the payment result"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"confirm"})," \u2013 a URL in your web application that will be called whenever the status of a payment changes or a manual IPN is being sent. It must be accessible via the Internet, on standard HTTP/S port (80 or, recommended 443). This is a transparent asynchronous call, however, the first call is always synchronous;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"return"})," \u2013 a URL in your web application where the client will be redirected to once the payment is complete. Not to be confused with a success or cancel URL, the information displayed here is dynamic, based on the information previously sent to confirm URL."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Payment Response Structure"})}),"\n",(0,s.jsx)(n.p,{children:"Upon every change in the status of a payment, NETOPIA will make a POST to the URL you have set as confirm, content-type: application/x-www-form-urlencoded, with the following parameters in the payload: env_key, data, cipher and, optional, iv. NETOPIA will encrypt a response XML in the same way you have done when making the payment request. Data will be encrypted using a X509 public certificate and you will use the private key provided by NETOPIA (or of your own) to decrypt it."}),"\n",(0,s.jsxs)(n.p,{children:["You will receive all the parameters you have sent, unchanged, and NETOPIA will add another element, called ",(0,s.jsx)(n.strong,{children:"mobilpay,"})," to the response XML."]}),"\n",(0,s.jsx)(n.p,{children:"The following annotated description of the XML response structure shows the elements sent by the NETOPIA API."}),"\n",(0,s.jsx)(n.p,{children:'<?xml version="1.0" encoding="utf-8"?>'}),"\n",(0,s.jsx)(n.p,{children:'<order type="card" id="string64" timestamp="YYYYMMDDHHMMSS">'}),"\n",(0,s.jsx)(n.p,{children:'<mobilpay timestamp="YYYYMMDDHHMMSS" crc="XXXXX">'}),"\n",(0,s.jsx)(n.p,{children:"<action>action_type</action>"}),"\n",(0,s.jsx)(n.p,{children:'<customer type="person|company">'}),"\n",(0,s.jsx)(n.p,{children:"<first_name>first_name</first_name>"}),"\n",(0,s.jsx)(n.p,{children:"<last_name>last_name</last_name>"}),"\n",(0,s.jsx)(n.p,{children:"<address>address</address>"}),"\n",(0,s.jsx)(n.p,{children:"<email>email_address</email>"}),"\n",(0,s.jsx)(n.p,{children:"<mobile_phone>phone_no</mobile_phone>"}),"\n",(0,s.jsx)(n.p,{children:"</customer>"}),"\n",(0,s.jsx)(n.p,{children:"<purchase>mobilPay_purchase_no</purchase>"}),"\n",(0,s.jsx)(n.p,{children:"<original_amount>XX.XX</original_amount>"}),"\n",(0,s.jsx)(n.p,{children:"<processed_amount>NN.NN</processed_amount>"}),"\n",(0,s.jsx)(n.p,{children:"<pan_masked>XXXXXX****YYYY</pan_masked>"}),"\n",(0,s.jsx)(n.p,{children:"<payment_instrument_id>ZZZZZZZ</payment_instrument_id>"}),"\n",(0,s.jsx)(n.p,{children:"<token_id>token_identifier</token_id>"}),"\n",(0,s.jsxs)(n.p,{children:["<token_expiration_date>YYYY-MM-DD HH:MM",":SS","</token_expiration_date>"]}),"\n",(0,s.jsx)(n.p,{children:'<error code="N">error_message</error>'}),"\n",(0,s.jsx)(n.p,{children:"</mobilpay>"}),"\n",(0,s.jsx)(n.p,{children:"</order>"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Response Parameters"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"mobilpay"})," \u2013 this is NETOPIA's response, appended to your unchanged request;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"timestamp"})," \u2013 NETOPIA's internal timestamp, format YYYYMMDDHHSS;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"crc"})," \u2013 NETOPIA internal identifier check;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"action"})," \u2013 the action attempted by NETOPIA. Possible actions are \u201cpaid_pending, confirmed_pending, paid, confirmed, credit, canceled\u201d. This is not the status of the transaction, as all actions can either fail or succeed;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"customer type"})," \u2013 the type of paying customer. This is the data provided to NETOPIA by the customer. Can be either person or company."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"first_name"})," \u2013 the customer's first name, as inserted in the payment page;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"last_name"})," - the customer's first name, as inserted in the payment page;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"address"})," \u2013 the customer's address, as inserted in the payment page;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"email"})," \u2013 the customer's email address, as inserted in the payment page;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"mobile_phone"})," \u2013 the customer's phone, as inserted in the payment page;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"purchase"})," \u2013 NETOPIA internal identifier. This is unique for the entire NETOPIA platform;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"original_amount"})," \u2013 the original amount processed;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"processed_amount"})," \u2013 the processed amount at the moment of the response. It can be lower than the original amount, ie for capturing a smaller amount or for a partial credit;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"pan_masked"})," \u2013 first 6 and last 4 digits of the card used. Store this and use it for presenting the customer with a friendly way of identifying the payment instrument;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"payment_instrument_id"})," \u2013 this is an internal NETOPIA identifier of the payment instrument, and allows you to check for its uniqueness;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"token_id"})," \u2013 this is the token associated with the payment instrument. You can use it to initiate recurring payments or one click;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"token_expiration_date"})," \u2013 the expiration date of the token. It is usually set to the expiration date of the card;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"error code"})," \u2013 the error code states whether the action has been successful or not. A 0 (zero) value states that the action has succeeded. A different value means it has not; (you will find the list of error code values below)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"error message"})," \u2013 the error message associated to the error code. This is generally a message that can be presented to the user in order to help him understand why a transaction has been rejected, or if it has been approved."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Merchant's Response"})}),"\n",(0,s.jsx)(n.p,{children:"For each call to your confirm URL, you will need to send a response in XML format back to NETOPIA, in order to help us understand whether you have successfully recorded the response or not. For debugging purposes, you may view your response in NETOPIA platform"}),"\n",(0,s.jsxs)(n.p,{children:["(go to ",(0,s.jsx)(n.a,{href:"https://admin.netopia-payments.com/",children:"https://admin.netopia-payments.com/"}),' - Orders - Card, under status select "Any\u201d, identify the transaction - Merchant communication.). The answer must be of the following form:']}),"\n",(0,s.jsx)(n.p,{children:'<?xml version="1.0" encoding="utf-8" ?>'}),"\n",(0,s.jsx)(n.p,{children:"<crc error_type=\u201d1|2\u201d error_code=\u201dnumeric\u201d>message</crc>"}),"\n",(0,s.jsx)(n.p,{children:"The attributes of the crc element are only sent if you had any problem recording the IPN, and have the following meaning:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"error_type"})," \u2013 based on this NETOPIA will activate a resend IPN mechanism or not. If its value is 1, it means you encountered a temporary error. Set it to 2 if you encountered a permanent error;"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"error_code"})," \u2013 this is your internal error code, helping you to view the error"]}),"\n",(0,s.jsx)(n.p,{children:"generated by your web application;"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"message"})," \u2013 if you encountered an error while processing the IPN, this should be your error message, helping you find the error. If no error occurred, it is recommended that you set this to the ",(0,s.jsx)(n.strong,{children:"crc"})," value received in the IPN or something else that you may find suitable"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Error Code Values"})}),"\n",(0,s.jsx)(n.p,{children:"0 \u2013 approved"}),"\n",(0,s.jsx)(n.p,{children:"16 \u2013 card has a risk (i.e. stolen card)"}),"\n",(0,s.jsx)(n.p,{children:"17 \u2013 card number is incorrect"}),"\n",(0,s.jsx)(n.p,{children:"18 \u2013 closed card"}),"\n",(0,s.jsx)(n.p,{children:"19 \u2013 card is expired"}),"\n",(0,s.jsx)(n.p,{children:"20 \u2013 insufficient funds"}),"\n",(0,s.jsx)(n.p,{children:"21 \u2013 cVV2 code incorrect"}),"\n",(0,s.jsx)(n.p,{children:"22 \u2013 issuer is unavailable"}),"\n",(0,s.jsx)(n.p,{children:"32 \u2013 amount is incorrect"}),"\n",(0,s.jsx)(n.p,{children:"33 \u2013 currency is incorrect"}),"\n",(0,s.jsx)(n.p,{children:"34 \u2013 transaction not permitted to cardholder"}),"\n",(0,s.jsx)(n.p,{children:"35 \u2013 transaction declined"}),"\n",(0,s.jsx)(n.p,{children:"36 \u2013 transaction rejected by antifraud filters"}),"\n",(0,s.jsx)(n.p,{children:"37 \u2013 transaction declined (breaking the law)"}),"\n",(0,s.jsx)(n.p,{children:"38 \u2013 Requires 3D Authentication"}),"\n",(0,s.jsx)(n.p,{children:"48 \u2013 invalid request"}),"\n",(0,s.jsx)(n.p,{children:"49 \u2013 duplicate PREAUTH"}),"\n",(0,s.jsx)(n.p,{children:"50 \u2013 duplicate AUTH"}),"\n",(0,s.jsx)(n.p,{children:"51 \u2013 you can only CANCEL a preauth order"}),"\n",(0,s.jsx)(n.p,{children:"52 \u2013 you can only CONFIRM a preauth order"}),"\n",(0,s.jsx)(n.p,{children:"53 \u2013 you can only CREDIT a confirmed order"}),"\n",(0,s.jsx)(n.p,{children:"54 \u2013 credit amount is higher than auth amount"}),"\n",(0,s.jsx)(n.p,{children:"55 \u2013 capture amount is higher than preauth amount"}),"\n",(0,s.jsx)(n.p,{children:"56 \u2013 duplicate request (This means that the payment has already been completed, so it must be confirmed with the merchant (if it is not already) or ignored (if it is already confirmed with the merchant)."}),"\n",(0,s.jsx)(n.p,{children:"99 \u2013 generic error"})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);