"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[2620],{1420:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"payment-api/v2.x/start/Resources/sample-response","title":"Sample Response","description":"Overview","source":"@site/docs/payment-api/v2.x/start/Resources/sample-response.md","sourceDirName":"payment-api/v2.x/start/Resources","slug":"/payment-api/v2.x/start/Resources/sample-response","permalink":"/docs/payment-api/v2.x/start/Resources/sample-response","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Sample Response"},"sidebar":"docsSidebar","previous":{"title":"Sample Request","permalink":"/docs/payment-api/v2.x/start/Resources/sample-request"},"next":{"title":"Errors & Statuses","permalink":"/docs/payment-api/v2.x/start/Resources/errors-statuses"}}');var t=n(4848),i=n(8453);const o={sidebar_position:2,title:"Sample Response"},c="Sample Response",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Response Components",id:"response-components",level:3},{value:"Successful Response",id:"successful-response",level:2},{value:"Example: Standard Success Response",id:"example-standard-success-response",level:3},{value:"Key Fields:",id:"key-fields",level:4},{value:"3D Secure Authentication Required",id:"3d-secure-authentication-required",level:2},{value:"Example: 3D Secure Required Response",id:"example-3d-secure-required-response",level:3},{value:"Key Fields:",id:"key-fields-1",level:4},{value:"Next Steps:",id:"next-steps",level:4},{value:"Error Response",id:"error-response",level:2},{value:"Example: Error Response",id:"example-error-response",level:3},{value:"Key Fields:",id:"key-fields-2",level:4},{value:"Common Error Statuses:",id:"common-error-statuses",level:4},{value:"Notes on Responses",id:"notes-on-responses",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"sample-response",children:"Sample Response"})}),"\n",(0,t.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(s.p,{children:["When you initiate a payment request using ",(0,t.jsx)(s.code,{children:"/payment/card/start"}),", the API returns a structured response containing:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Success response"}),": For approved transactions."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"3D Secure authentication required"}),": When further verification is needed."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Error response"}),": If the request fails due to incorrect parameters or transaction issues."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"response-components",children:"Response Components"}),"\n",(0,t.jsx)(s.p,{children:"Each response consists of:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"customerAction"})}),": Present if further action is required (e.g., 3D Secure authentication)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"error"})}),": Contains an error code and message if the request fails."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"payment"})}),": Provides details of the transaction, including status, amount, currency, and transaction ID."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"successful-response",children:"Successful Response"}),"\n",(0,t.jsx)(s.p,{children:"A successful response indicates that the payment was processed and approved."}),"\n",(0,t.jsx)(s.h3,{id:"example-standard-success-response",children:"Example: Standard Success Response"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "customerAction": {},\n  "error": {\n    "code": "00",\n    "message": "Approved"\n  },\n  "payment": {\n    "amount": 200,\n    "currency": "RON",\n    "data": {\n      "AuthCode": "24od",\n      "BIN": "990000",\n      "ISSUER": "Netopia GB",\n      "ISSUER_COUNTRY": "642",\n      "RRN": "hYnY8zpdcNo-"\n    },\n    "ntpID": "1309088",\n    "status": 3,\n    "token": "MjMyMjqqdx3XTbYC78OoidTk6DTtEvHcrqcz91Pr4PQqXf/u33xoDkdgIlkq226avk1ik8fvLElkbLopnvNbIs8+Ve6L"\n  }\n}\n'})}),"\n",(0,t.jsx)(s.h4,{id:"key-fields",children:"Key Fields:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"status: 3"})})," \u2192 Payment successfully processed."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:'code: "00"'})})," \u2192 Indicates the payment was approved."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"ntpID"})})," \u2192 Unique transaction identifier."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"token"})})," \u2192 If available, can be used for future payments."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"3d-secure-authentication-required",children:"3D Secure Authentication Required"}),"\n",(0,t.jsx)(s.p,{children:"If 3D Secure authentication is required, the response includes a redirection URL and an authentication token."}),"\n",(0,t.jsx)(s.h3,{id:"example-3d-secure-required-response",children:"Example: 3D Secure Required Response"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "customerAction": {\n    "authenticationToken": "iNPqJWDRoRXsd77StNELrvBiGr_ihsLdvikrsTiYqprMh9ViBO-lq_i38YsmxT-JTZPqf04uS4dBhCAQjNSxcAyZcVAcGhCH3r7knN-KePOzno16psy5O_OvzfRlbuvkrBtrpjcXyzcTi--M6uM-X1C7aBzVgPa1",\n    "formData": {\n      "backUrl": "http://yourdomain.com/example/backUrl.php",\n      "paReq": "AT5ewtLVDsEgB5lcRjeEoSMF6RZ4A3sPWhsU3IiSy8X0XdrQ49D7b-oUMYnwslzZ436FCQv6aB4m7Sn1QNqYzZU="\n    },\n    "type": "Authentication3D",\n    "url": "https://secure.sandbox.netopia-payments.com/sandbox/authorize"\n  },\n  "error": {\n    "code": "100",\n    "message": "Approved"\n  },\n  "payment": {\n    "amount": 200,\n    "currency": "RON",\n    "ntpID": "1310396",\n    "status": 15\n  }\n}\n'})}),"\n",(0,t.jsx)(s.h4,{id:"key-fields-1",children:"Key Fields:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"status: 15"})})," \u2192 Indicates that 3D Secure authentication is required."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"authenticationToken"})})," \u2192 Must be used for verification."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"url"})})," \u2192 Redirect the user to this URL for authentication."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"next-steps",children:"Next Steps:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Redirect the user to ",(0,t.jsx)(s.code,{children:"customerAction.url"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["After authentication, finalize the payment using the ",(0,t.jsx)(s.strong,{children:"Verify Authentication"})," endpoint."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"error-response",children:"Error Response"}),"\n",(0,t.jsx)(s.p,{children:"If a transaction fails, the API returns an error code and message explaining the reason."}),"\n",(0,t.jsx)(s.h3,{id:"example-error-response",children:"Example: Error Response"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "customerAction": {},\n  "error": {\n    "code": "56",\n    "message": "Order closed"\n  },\n  "payment": {\n    "amount": 200,\n    "currency": "RON",\n    "ntpID": "1309088",\n    "status": 5\n  }\n}\n'})}),"\n",(0,t.jsx)(s.h4,{id:"key-fields-2",children:"Key Fields:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"status: 5"})})," \u2192 The payment was not completed."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:'code: "56"'})})," \u2192 Indicates the order is closed (possibly a duplicate or already completed)."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"common-error-statuses",children:"Common Error Statuses:"}),"\n",(0,t.jsx)("a",{class:"button button--primary button--lg",href:"errors-statuses",children:"Go to Error Statuses"}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"notes-on-responses",children:"Notes on Responses"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["If the server responds with ",(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"status = 15"})})," and ",(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"error.code = 100"})}),", 3-D Secure is required:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Check the ",(0,t.jsx)(s.code,{children:"customerAction"})," object."]}),"\n",(0,t.jsx)(s.li,{children:"Redirect the user for authentication."}),"\n",(0,t.jsxs)(s.li,{children:["Finalize via ",(0,t.jsx)(s.code,{children:"verify-auth"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["A successful ",(0,t.jsx)(s.strong,{children:"non-3DS"})," transaction usually has:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"status: 3"})})," or ",(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"status: 5"})}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:'error.code: "00"'})})," or ",(0,t.jsx)(s.code,{children:'"Approved"'}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["For further details, refer to the ",(0,t.jsx)(s.strong,{children:"StartResponse"})," section in the OpenAPI specification."]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var r=n(6540);const t={},i=r.createContext(t);function o(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);