"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[5346],{1059:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"payment-api/v2.x/authorize/authorize-query","title":"Query Parameters","description":"When sending Authorize data to the 3DS authentication URL (the bank\u2019s ACS), you must include the following required parameters.","source":"@site/docs/payment-api/v2.x/authorize/authorize-query.md","sourceDirName":"payment-api/v2.x/authorize","slug":"/payment-api/v2.x/authorize/authorize-query","permalink":"/docs/payment-api/v2.x/authorize/authorize-query","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"authorize-query","title":"Query Parameters","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Authorize a Payment","permalink":"/docs/payment-api/v2.x/authorize/authorize-intro"},"next":{"title":"Sample Request","permalink":"/docs/payment-api/v2.x/authorize/authorize-sample"}}');var i=n(4848),s=n(8453);const a={id:"authorize-query",title:"Query Parameters",sidebar_position:2},o="Query Parameters",c={},l=[{value:"What is 3D Secure?",id:"what-is-3d-secure",level:2},{value:"Required Parameters",id:"required-parameters",level:2},{value:"Payment Authentication Request",id:"payment-authentication-request",level:3},{value:"Return URL",id:"return-url",level:3},{value:"Example Response Scenarios",id:"example-response-scenarios",level:2},{value:"Next Steps",id:"next-steps",level:3}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"query-parameters",children:"Query Parameters"})}),"\n",(0,i.jsxs)(t.p,{children:["When sending ",(0,i.jsx)(t.strong,{children:"Authorize"})," data to the 3DS authentication URL (the bank\u2019s ACS), you must include the following required parameters."]}),"\n",(0,i.jsx)(t.h2,{id:"what-is-3d-secure",children:"What is 3D Secure?"}),"\n",(0,i.jsxs)(t.p,{children:["3D Secure (3DS) is a security protocol used to authenticate online card transactions, reducing fraud risk. When a payment requires 3D Secure verification, the user is redirected to their bank's ",(0,i.jsx)(t.strong,{children:"Access Control Server (ACS)"})," to complete an authentication step, typically via a password, OTP, or biometric verification."]}),"\n",(0,i.jsx)(t.p,{children:"Once the authentication is complete, the ACS sends the user back to your system with the authentication result."}),"\n",(0,i.jsx)(t.h2,{id:"required-parameters",children:"Required Parameters"}),"\n",(0,i.jsx)(t.h3,{id:"payment-authentication-request",children:"Payment Authentication Request"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"paReq"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["A unique encoded string generated in the ",(0,i.jsx)(t.strong,{children:"Start"})," response."]}),"\n",(0,i.jsxs)(t.li,{children:["Found in ",(0,i.jsx)(t.code,{children:"customerAction.formData.paReq"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["This value must be sent to the bank\u2019s ACS URL in a ",(0,i.jsx)(t.strong,{children:"POST request"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Example:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n    "customerAction": {\n        "type": "\u201cAuthentication3D\u201d",\n        "\u201curl\u201d": "\u201chttps://acs.bank.com/auth\u201d",\n        "\u201cauthenticationToken\u201d": "\u201cxyz123\u201d",\n        "\u201cformData\u201d": {\n            "\u201cpaReq\u201d": "\u201crcrO9tXAiBpwv-ZE4JQ4y\u2026\u201d"\n        }\n    }      \n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"return-url",children:"Return URL"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"backUrl"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["A ",(0,i.jsx)(t.strong,{children:"public"})," URL in your system where the user is redirected after authentication."]}),"\n",(0,i.jsxs)(t.li,{children:["This URL will receive the ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"paRes"})})," parameter, containing the authentication result."]}),"\n",(0,i.jsx)(t.li,{children:"You must validate this response and complete the transaction flow."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Important Notes:"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["If the authentication fails, the ACS might still redirect the user to ",(0,i.jsx)(t.code,{children:"backUrl"})," with an error message."]}),"\n",(0,i.jsx)(t.li,{children:"Always handle possible failures and unexpected redirects gracefully."}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"example-response-scenarios",children:"Example Response Scenarios"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Scenario"}),(0,i.jsxs)(t.th,{children:[(0,i.jsx)(t.code,{children:"paRes"})," Content"]}),(0,i.jsx)(t.th,{children:"Action to Take"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Successful authentication"}),(0,i.jsx)(t.td,{children:"Valid token"}),(0,i.jsx)(t.td,{children:"Proceed with payment authorization"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Failed authentication"}),(0,i.jsx)(t.td,{children:"Error message"}),(0,i.jsx)(t.td,{children:"Show error to user, allow retry"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Timeout / User cancel"}),(0,i.jsx)(t.td,{children:"Empty response"}),(0,i.jsx)(t.td,{children:"Redirect user to retry or alternative payment"})]})]})]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(t.p,{children:["After receiving the ",(0,i.jsx)(t.code,{children:"paRes"})," response at ",(0,i.jsx)(t.code,{children:"backUrl"}),", you must call the ",(0,i.jsx)(t.code,{children:"verify-auth"})," endpoint to confirm authentication status and proceed with payment finalization."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var r=n(6540);const i={},s=r.createContext(i);function a(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);